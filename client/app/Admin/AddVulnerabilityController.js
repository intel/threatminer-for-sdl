// controller for adding a vulnerability
angular.module('threat').controller('AddVulnerabilityController', function ($http, $window, $q, values) {
  const vm = this
  vm.desc = null

  vm.addVulnerability = function () {
    const data = ({
      vuln_name: vm.name,
      vuln_desc: vm.desc
    })
    // posts data to API
    $http.post(`${values.get('api')}/vulnerabilities`, data).then((response) => {
      $window.location.reload()
    }, (response) => {
      $window.alert("Looks like you're missing some important field(s)!")
    })
  }
})
