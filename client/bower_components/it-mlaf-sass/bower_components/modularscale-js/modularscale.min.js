function ms(r,o,t){"string"==typeof r&&(r=1),void 0==r&&(r=msValue),void 0==o&&(o=msBases),void 0==t&&(t=msRatios),0>=o&&(o=1),"number"!=typeof Math.abs(o[0])&&(o=1);for(var o=(""+o).split(","),t=(""+t).split(","),a=[],e=null,h=0;h<t.length;h++)for(var n=0;n<o.length;n++)if(e=n+h,r>=0){for(var s=0;Math.pow(t[h],s)*o[n]>=o[0];)a.push([Math.pow(t[h],s)*o[n],e]),s--;for(var s=0;Math.pow(t[h],s)*o[n]<=Math.pow(t[h],r+1)*o[n];)a.push([Math.pow(t[h],s)*o[n],e]),s++}else{for(var s=0;Math.pow(t[h],s)*o[n]<=o[0];)a.push([Math.pow(t[h],s)*o[n],e]),s++;for(var s=0;Math.pow(t[h],s)*o[n]>=Math.pow(t[h],r-1)*o[n];)Math.pow(t[h],s)*o[n]<=o[0]&&a.push([Math.pow(t[h],s)*o[n],e]),s--}return a=msUnique(a),0>r&&(a=a.reverse()),a[Math.abs(r)][0]}var msValue=0,msBases=1,msRatios=(1+Math.sqrt(5))/2,minorSecond=1.067,majorSecond=1.125,minorThird=1.2,majorThird=1.25,perfectFourth=1.333,augFourth=1.414,perfectFifth=1.5,minorSixth=1.6,goldenSection=1.618,majorSixth=1.667,minorSeventh=1.778,majorSeventh=1.875,octave=2,majorTenth=2.5,majorEleventh=2.667,majorTwelfth=3,doubleOctave=4,msUnique=function(r){r=r.sort(function(r,o){var t=r[0],a=o[0];return t-a}),newArr=[];for(var o=null,t=0;t<r.length;t++){var a=r[t][0];a!=o&&newArr.push(r[t]),o=a}return newArr};